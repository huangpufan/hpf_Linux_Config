# HPF Linux Config - TUI å®‰è£…å™¨

åŸºäº Rich åº“æ„å»ºçš„ç°ä»£åŒ–ç»ˆç«¯ UI å®‰è£…å™¨ï¼Œæ”¯æŒ Vim é£æ ¼æŒ‰é”®æ“ä½œå’Œå¼‚æ­¥å¹¶å‘æ‰§è¡Œã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ– TUI**: ä½¿ç”¨ Rich åº“æ„å»ºç²¾ç¾çš„ç»ˆç«¯ç•Œé¢
- âŒ¨ï¸ **Vim æŒ‰é”®**: å®Œæ•´çš„ Vim é£æ ¼å¯¼èˆªï¼ˆ`hjkl`ï¼‰
- âš¡ **å¼‚æ­¥æ‰§è¡Œ**: æ”¯æŒå¹¶å‘å®‰è£…å¤šä¸ªå·¥å…·ï¼Œå®æ—¶æ˜¾ç¤ºæ—¥å¿—
- ğŸ” **æ™ºèƒ½æ£€æŸ¥**: è‡ªåŠ¨æ£€æµ‹ sudo æƒé™ã€SSH é…ç½®ã€WSL ç¯å¢ƒ
- ğŸ“¦ **æ¨¡å—åŒ–**: åŸºäº JSON é…ç½®æ–‡ä»¶ï¼Œæ˜“äºæ‰©å±•

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# æ¨èï¼šä½¿ç”¨ pip å®‰è£…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
pip install -e .

# æˆ–è€…åªå®‰è£…ä¾èµ–
pip install rich
```

### è¿è¡Œ

```bash
# æ–¹å¼ 1: ä½¿ç”¨ Makeï¼ˆæ¨èï¼‰
make run

# æ–¹å¼ 2: Python æ¨¡å—æ–¹å¼
python -m tui_installer

# æ–¹å¼ 3: å®‰è£…åç›´æ¥ä½¿ç”¨å‘½ä»¤
tui-installer

# æ–¹å¼ 4: ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬
./scripts/run.sh
```

## æŒ‰é”®æ“ä½œ

### å¯¼èˆª

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `h` / `â†` | åˆ‡æ¢åˆ°å‰ä¸€ä¸ªåˆ†ç±» |
| `l` / `â†’` | åˆ‡æ¢åˆ°åä¸€ä¸ªåˆ†ç±» |
| `j` / `â†“` | ä¸‹ç§»é€‰æ‹© |
| `k` / `â†‘` | ä¸Šç§»é€‰æ‹© |

### æ“ä½œ

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `Space` | å‹¾é€‰/å–æ¶ˆå‹¾é€‰å½“å‰å·¥å…· |
| `i` | å®‰è£…å½“å‰é€‰ä¸­çš„å·¥å…· |
| `a` | æ‰¹é‡å®‰è£…æ‰€æœ‰å·²å‹¾é€‰çš„å·¥å…· |
| `Enter` | åˆ‡æ¢åˆ°æ—¥å¿—è¯¦æƒ…è§†å›¾ |
| `q` | é€€å‡ºç¨‹åº |

## é¡¹ç›®ç»“æ„

```
tui-installer/
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®ä¸ä¾èµ–ç®¡ç†
â”œâ”€â”€ Makefile                  # å¸¸ç”¨å¼€å‘å‘½ä»¤
â”œâ”€â”€ README.md                 # æœ¬æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md             # å¿«é€Ÿå…¥é—¨æŒ‡å—
â”œâ”€â”€ CHANGELOG.md              # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ tui_installer/            # ä¸»ç¨‹åºåŒ…
â”‚   â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–ä¸ç‰ˆæœ¬ä¿¡æ¯
â”‚   â”œâ”€â”€ __main__.py           # ç¨‹åºå…¥å£ç‚¹
â”‚   â”œâ”€â”€ app.py                # åº”ç”¨ä¸»é€»è¾‘ä¸äº‹ä»¶å¾ªç¯
â”‚   â”œâ”€â”€ config.py             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models.py             # æ•°æ®æ¨¡å‹ (Tool, Category, AppState)
â”‚   â”œâ”€â”€ executor.py           # ä»»åŠ¡æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ input.py              # é”®ç›˜è¾“å…¥å¤„ç†
â”‚   â”œâ”€â”€ ui.py                 # UI æ¸²æŸ“ç»„ä»¶
â”‚   â”œâ”€â”€ system.py             # ç³»ç»Ÿæ£€æŸ¥ (sudo, SSH, WSL)
â”‚   â”œâ”€â”€ py.typed              # PEP 561 ç±»å‹æ ‡è®°
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ tools_config.json # å·¥å…·é…ç½®æ–‡ä»¶
â”œâ”€â”€ tests/                    # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ conftest.py           # pytest é…ç½®ä¸ fixtures
â”‚   â”œâ”€â”€ test_models.py        # æ•°æ®æ¨¡å‹æµ‹è¯•
â”‚   â””â”€â”€ test_config.py        # é…ç½®ç®¡ç†æµ‹è¯•
â””â”€â”€ scripts/                  # è¾…åŠ©è„šæœ¬
    â”œâ”€â”€ run.sh                # å¿«é€Ÿå¯åŠ¨è„šæœ¬
    â””â”€â”€ test_keys.py          # æŒ‰é”®æµ‹è¯•å·¥å…·

../install-script/            # å®é™…å®‰è£…è„šæœ¬ï¼ˆé¡¹ç›®å¤–éƒ¨ï¼‰
â”œâ”€â”€ tools/                    # ç‹¬ç«‹å·¥å…·å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ apt/                  # APT å®‰è£…çš„å·¥å…·
â”‚   â”œâ”€â”€ snap/                 # Snap å®‰è£…çš„å·¥å…·
â”‚   â”œâ”€â”€ cargo/                # Cargo å®‰è£…çš„å·¥å…·
â”‚   â”œâ”€â”€ npm/                  # NPM å®‰è£…çš„å·¥å…·
â”‚   â”œâ”€â”€ pip/                  # Pip å®‰è£…çš„å·¥å…·
â”‚   â””â”€â”€ curl/                 # é€šè¿‡ curl è„šæœ¬å®‰è£…çš„å·¥å…·
â”œâ”€â”€ setup/                    # ç³»ç»Ÿé…ç½®è„šæœ¬
â”œâ”€â”€ presets/                  # é¢„è®¾å®‰è£…ç»„åˆ
â”œâ”€â”€ basic/                    # åŸæœ‰è„šæœ¬ï¼ˆå·²è¿ç§»ï¼‰
â”œâ”€â”€ nvim/                     # Neovim é…ç½®
â””â”€â”€ lib/                      # å…¬å…±åº“
```

## å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
make install-dev
# æˆ–è€…
pip install -e ".[dev]"
```

### å¸¸ç”¨å‘½ä»¤

```bash
make help        # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make test        # è¿è¡Œæµ‹è¯•
make lint        # ä»£ç æ£€æŸ¥
make format      # ä»£ç æ ¼å¼åŒ–
make clean       # æ¸…ç†ç¼“å­˜æ–‡ä»¶
make build       # æ„å»ºåˆ†å‘åŒ…
make test-keys   # è¿è¡ŒæŒ‰é”®æµ‹è¯•å·¥å…·
```

### æ·»åŠ æ–°å·¥å…·

1. ç¼–è¾‘ `tui_installer/data/tools_config.json`ï¼Œåœ¨å¯¹åº”åˆ†ç±»ä¸‹æ·»åŠ å·¥å…·å®šä¹‰
2. ç¡®ä¿è„šæœ¬è·¯å¾„æ­£ç¡®ä¸”å…·æœ‰æ‰§è¡Œæƒé™
3. é‡æ–°å¯åŠ¨å®‰è£…å™¨

### âš ï¸ Emoji å›¾æ ‡é€‰æ‹©æ³¨æ„äº‹é¡¹

**é‡è¦è­¦å‘Š**ï¼šåœ¨ `tools_config.json` ä¸­é€‰æ‹©åˆ†ç±»å›¾æ ‡æ—¶ï¼Œå¿…é¡»é¿å…ä½¿ç”¨åŒ…å« **Unicode Variation Selector** çš„ emojiï¼Œå¦åˆ™ä¼šå¯¼è‡´ TUI ç•Œé¢ä¸Šä¸‹é—ªçƒé—®é¢˜ã€‚

#### é—®é¢˜åŸå› 

æŸäº› emojiï¼ˆå¦‚ `âš™ï¸` gearï¼‰åŒ…å« Unicode Variation Selector-16 (U+FE0F)ï¼Œå¯¼è‡´ä¸åŒç»ˆç«¯åœ¨è®¡ç®—å­—ç¬¦å®½åº¦æ—¶äº§ç”Ÿä¸ä¸€è‡´ç»“æœï¼š
- æœ‰æ—¶è¯†åˆ«ä¸º 1 ä¸ªå­—ç¬¦å®½åº¦
- æœ‰æ—¶è¯†åˆ«ä¸º 2 ä¸ªå­—ç¬¦å®½åº¦

è¿™ç§ä¸ç¨³å®šæ€§ä¼šå¯¼è‡´ Rich åº“çš„å¸ƒå±€å¼•æ“åœ¨ä¸¤ä¸ªæ¸²æŸ“çŠ¶æ€ä¹‹é—´æŒ¯è¡ï¼Œäº§ç”Ÿç•Œé¢é—ªçƒã€‚

#### å®‰å…¨å›¾æ ‡åˆ—è¡¨

ä»¥ä¸‹æ˜¯é¡¹ç›®ä¸­**å·²éªŒè¯ç¨³å®š**çš„ emoji å›¾æ ‡ï¼š

| Emoji | åç§° | å½“å‰ç”¨é€” | çŠ¶æ€ |
|-------|------|----------|------|
| ğŸ¯ | dart | é¢„è®¾ç»„åˆ | âœ… ç¨³å®š |
| ğŸ›  | hammer and wrench | ç³»ç»Ÿé…ç½® | âœ… ç¨³å®š |
| ğŸ“¦ | package | APT å·¥å…· | âœ… ç¨³å®š |
| ğŸŒ | globe | Curl å®‰è£…å·¥å…· | âœ… ç¨³å®š |
| ğŸ¦€ | crab | Cargo å·¥å…· | âœ… ç¨³å®š |
| ğŸ“— | green book | NPM å·¥å…· | âœ… ç¨³å®š |
| ğŸ”· | diamond | Snap å·¥å…· | âœ… ç¨³å®š |
| ğŸ | snake | Pip å·¥å…· | âœ… ç¨³å®š |
| ğŸ”© | nut and bolt | ç¼–è¯‘å™¨ | âœ… ç¨³å®š |
| ğŸ“ | memo | ç¼–è¾‘å™¨ | âœ… ç¨³å®š |
| ğŸ”§ | wrench | å¼€å‘å·¥å…· | âœ… ç¨³å®š |

#### é—®é¢˜å›¾æ ‡é»‘åå•

| Emoji | åç§° | é—®é¢˜ |
|-------|------|------|
| âš™ï¸ | gear (with selector) | åŒ…å« U+FE0Fï¼Œå¯¼è‡´å®½åº¦è®¡ç®—ä¸ç¨³å®š |

#### æ–°å¢å›¾æ ‡éªŒè¯æµç¨‹

æ·»åŠ æ–°çš„ emoji å›¾æ ‡å‰ï¼Œè¯·è¿›è¡Œä»¥ä¸‹æµ‹è¯•ï¼š

1. **äºŒåˆ†æµ‹è¯•æ³•**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒä¸­åªä¿®æ”¹å›¾æ ‡ï¼Œè§‚å¯Ÿæ˜¯å¦äº§ç”Ÿé—ªçƒ
2. **Unicode æ£€æŸ¥**ï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦åŒ…å« Variation Selector
   ```bash
   echo -n "ğŸ¯" | xxd  # æŸ¥çœ‹åå…­è¿›åˆ¶ç¼–ç 
   # å¦‚æœåŒ…å« FE 0Fï¼Œåˆ™å¯èƒ½æœ‰é—®é¢˜
   ```
3. **ç»ˆç«¯å…¼å®¹æ€§æµ‹è¯•**ï¼šåœ¨å¤šä¸ªç»ˆç«¯ï¼ˆbash/zsh/tmuxï¼‰ä¸­æµ‹è¯•å¸ƒå±€ç¨³å®šæ€§

#### æ›¿ä»£æ–¹æ¡ˆ

å¦‚æœå¿…é¡»ä½¿ç”¨ç‰¹å®šä¸»é¢˜çš„å›¾æ ‡ï¼Œä¼˜å…ˆé€‰æ‹©ï¼š
- å•ç ç‚¹ emojiï¼ˆæ—  Variation Selectorï¼‰
- ASCII è‰ºæœ¯å­—ç¬¦
- çº¯æ–‡æœ¬ç¬¦å·ï¼ˆå¦‚ `[+]`ã€`*`ã€`>`ï¼‰

### é…ç½®æ–‡ä»¶æ ¼å¼

```json
{
  "categories": [
    {
      "id": "apt-tools",
      "name": "APT å·¥å…·",
      "icon": "ğŸ“¦",
      "tools": [
        {
          "id": "bat",
          "name": "Bat",
          "description": "å¸¦è¯­æ³•é«˜äº®çš„ cat æ›¿ä»£å“",
          "script": "tools/apt/bat.sh",
          "requires_sudo": true,
          "check_cmd": "command -v bat || command -v batcat"
        }
      ]
    }
  ]
}
```

### è„šæœ¬ç»„ç»‡ç»“æ„

å·¥å…·å®‰è£…è„šæœ¬å·²é‡æ„ä¸ºæ¨¡å—åŒ–ç»“æ„ï¼š

- **ç‹¬ç«‹è„šæœ¬**: æ¯ä¸ªå·¥å…·ä¸€ä¸ªç‹¬ç«‹å®‰è£…è„šæœ¬ (`tools/apt/bat.sh`, `tools/cargo/eza.sh` ç­‰)
- **é¢„è®¾ç»„åˆ**: å¸¸ç”¨å·¥å…·ç»„åˆ (`presets/minimal.sh`, `presets/dev-cli.sh` ç­‰)
- **ç³»ç»Ÿé…ç½®**: ç¯å¢ƒé…ç½®è„šæœ¬ (`setup/npm-registry.sh` ç­‰)

#### å·¥å…·é…ç½®å­—æ®µ

| å­—æ®µ | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| `id` | string | âœ“ | å”¯ä¸€æ ‡è¯†ç¬¦ |
| `name` | string | âœ“ | æ˜¾ç¤ºåç§° |
| `description` | string | âœ“ | æè¿°ä¿¡æ¯ |
| `script` | string | âœ“ | ç›¸å¯¹äº `install-script/` çš„è„šæœ¬è·¯å¾„ |
| `requires_sudo` | bool | | æ˜¯å¦éœ€è¦ sudo æƒé™ |
| `requires_ssh` | bool | | æ˜¯å¦éœ€è¦ SSH å¯†é’¥é…ç½® |
| `check_cmd` | string | | æ£€æµ‹æ˜¯å¦å·²å®‰è£…çš„å‘½ä»¤ |

## ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ / Debian-based Linux
- **Python**: 3.8+
- **ç»ˆç«¯**: æ”¯æŒ ANSI è½¬ä¹‰åºåˆ—å’Œ UTF-8
- **æƒé™**: å¤§éƒ¨åˆ†è„šæœ¬éœ€è¦ sudo æƒé™

### WSL ç”¨æˆ·æ³¨æ„

- Snap åŠŸèƒ½åœ¨ WSL ä¸‹å¯èƒ½ä¸å¯ç”¨ï¼ˆä¼šè‡ªåŠ¨è·³è¿‡ï¼‰
- DNS/Hosts ç›¸å…³é…ç½®å»ºè®®è°¨æ…ä½¿ç”¨

## å·²çŸ¥é—®é¢˜

1. **Sudo å¯†ç **: å¦‚æœ sudo ä¼šè¯è¿‡æœŸï¼Œåå°ä»»åŠ¡å¯èƒ½ä¼šå¡ä½ã€‚å»ºè®®è¿è¡Œå‰æ‰§è¡Œ `sudo -v`
2. **SSH å¯†é’¥**: éƒ¨åˆ†è„šæœ¬éœ€è¦ GitHub SSH é…ç½®ï¼Œæœªé…ç½®æ—¶ä¼šè‡ªåŠ¨è·³è¿‡

## è®¸å¯è¯

MIT License
